{"ast":null,"code":"import logo from'./logo.svg';import'./App.css';import{AiOutlineSearch}from\"react-icons/ai\";import{TiWeatherCloudy}from\"react-icons/ti\";import{TiWeatherShower}from\"react-icons/ti\";import{TiWeatherSnow}from\"react-icons/ti\";import{TiWeatherSunny}from\"react-icons/ti\";import{TiWeatherDownpour}from\"react-icons/ti\";import{useEffect,useState}from'react';import{TiWeatherWindy}from\"react-icons/ti\";import WeatherReport from'./WeatherReport';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){let apiKey='d09f5ffb548e881ca236d853bb0f5af4';const[icon,setIcon]=useState(/*#__PURE__*/_jsx(TiWeatherCloudy,{}));const[temp,setTemp]=useState('');const[city,setCity]=useState('Chennai');const[countery,setCountery]=useState('');const[lat,setLat]=useState(0);const[lon,setLon]=useState(0);const[humidity,setHumidity]=useState(0);const[wind,setWind]=useState(0);const[text,setText]=useState('chennai');const[cityNotFound,setcityNotFound]=useState(false);const[loading,setloading]=useState(false);const[errors,setErrors]=useState(null);const weatherIconMap={\"01d\":TiWeatherSunny,\"01n\":TiWeatherSunny,\"02d\":TiWeatherCloudy,\"02n\":TiWeatherCloudy,\"03d\":TiWeatherShower,\"03n\":TiWeatherShower,\"04d\":TiWeatherWindy,\"04n\":TiWeatherWindy,\"09d\":TiWeatherWindy,\"09n\":TiWeatherWindy,\"10d\":TiWeatherDownpour,\"10n\":TiWeatherDownpour,\"11d\":TiWeatherDownpour,\"11n\":TiWeatherDownpour,\"13d\":TiWeatherSnow,\"13n\":TiWeatherSnow,\"50d\":TiWeatherSnow,\"50n\":TiWeatherSnow};const search=async()=>{setloading(true);let url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(text,\"&appid=\").concat(apiKey,\"&units=Metric\\n\");try{let response=await fetch(url);let data=await response.json();if(data.cod===\"404\"){setcityNotFound(true);setloading(false);return;}setTemp(Math.floor(data.main.temp));setCity(data.name);setCountery(data.sys.country);setLat(data.coord.lat);setLon(data.coord.lon);setWind(data.wind.speed);setHumidity(data.main.humidity);const weatherIcon=data.weather[0].icon;setIcon(weatherIconMap[weatherIcon]||/*#__PURE__*/_jsx(TiWeatherSunny,{}));setcityNotFound(false);}catch(error){console.error(\"error\",error.message);setErrors(\"An error occured while fetching data\",error.message);}finally{setloading(false);}};const handleCity=e=>{setText(e.target.value);};const handleKeyDown=e=>{if(e.key==='Enter'){search();}};useEffect(()=>{search();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputcontainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"cityInput\",placeholder:\"Search City\",value:text,onChange:handleCity,onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(\"div\",{className:\"searchIcon\",onClick:()=>search(),children:/*#__PURE__*/_jsx(AiOutlineSearch,{})})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading ...\"}),errors&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errors}),cityNotFound&&/*#__PURE__*/_jsx(\"div\",{className:\"notfound\",children:\"City Not Found\"}),!loading&&!cityNotFound&&/*#__PURE__*/_jsx(WeatherReport,{icon:icon,temp:temp,city:city,countery:countery,lat:lat,lon:lon,humidity:humidity,wind:wind})]});}export default App;","map":{"version":3,"names":["logo","AiOutlineSearch","TiWeatherCloudy","TiWeatherShower","TiWeatherSnow","TiWeatherSunny","TiWeatherDownpour","useEffect","useState","TiWeatherWindy","WeatherReport","jsx","_jsx","jsxs","_jsxs","App","apiKey","icon","setIcon","temp","setTemp","city","setCity","countery","setCountery","lat","setLat","lon","setLon","humidity","setHumidity","wind","setWind","text","setText","cityNotFound","setcityNotFound","loading","setloading","errors","setErrors","weatherIconMap","search","url","concat","response","fetch","data","json","cod","Math","floor","main","name","sys","country","coord","speed","weatherIcon","weather","error","console","message","handleCity","e","target","value","handleKeyDown","key","className","children","type","placeholder","onChange","onKeyDown","onClick"],"sources":["D:/Developer/Programs/React/weather/src/App.js"],"sourcesContent":["import logo from './logo.svg';\r\nimport './App.css';\r\nimport { AiOutlineSearch } from \"react-icons/ai\";\r\nimport { TiWeatherCloudy } from \"react-icons/ti\";\r\nimport { TiWeatherShower } from \"react-icons/ti\";\r\nimport { TiWeatherSnow } from \"react-icons/ti\";\r\nimport { TiWeatherSunny } from \"react-icons/ti\";\r\nimport { TiWeatherDownpour } from \"react-icons/ti\";\r\nimport { useEffect, useState } from 'react';\r\nimport { TiWeatherWindy } from \"react-icons/ti\";\r\nimport WeatherReport from './WeatherReport';\r\n\r\n\r\nfunction App() {\r\n  let apiKey = 'd09f5ffb548e881ca236d853bb0f5af4';\r\n  const [icon, setIcon] = useState(<TiWeatherCloudy />);\r\n  const [temp, setTemp] = useState('');\r\n  const [city, setCity] = useState('Chennai');\r\n  const [countery, setCountery] = useState('');\r\n  const [lat, setLat] = useState(0);\r\n  const [lon, setLon] = useState(0);\r\n  const [humidity, setHumidity] = useState(0);\r\n  const [wind, setWind] = useState(0);\r\n  const [text, setText] = useState('chennai');\r\n  const [cityNotFound, setcityNotFound] = useState(false);\r\n  const [loading, setloading] = useState(false);\r\n  const [errors, setErrors] = useState(null);\r\n  const weatherIconMap = {\r\n    \"01d\":TiWeatherSunny,\r\n    \"01n\":TiWeatherSunny,\r\n    \"02d\":TiWeatherCloudy,\r\n    \"02n\":TiWeatherCloudy,\r\n    \"03d\":TiWeatherShower,\r\n    \"03n\":TiWeatherShower,\r\n    \"04d\":TiWeatherWindy,\r\n    \"04n\":TiWeatherWindy,\r\n    \"09d\":TiWeatherWindy,\r\n    \"09n\":TiWeatherWindy,\r\n    \"10d\":TiWeatherDownpour,\r\n    \"10n\":TiWeatherDownpour,\r\n    \"11d\":TiWeatherDownpour,\r\n    \"11n\":TiWeatherDownpour,\r\n    \"13d\":TiWeatherSnow,\r\n    \"13n\":TiWeatherSnow,\r\n    \"50d\":TiWeatherSnow,\r\n    \"50n\":TiWeatherSnow,\r\n  }\r\n  const search = async() => {\r\n    setloading(true);\r\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${text}&appid=${apiKey}&units=Metric\r\n`;\r\n    try{\r\n      let response = await fetch(url);\r\n      let data = await response.json();\r\n      if (data.cod === \"404\"){\r\n         setcityNotFound(true);\r\n         setloading(false);\r\n          return;\r\n      }\r\n      setTemp(Math.floor(data.main.temp));\r\n      setCity(data.name);\r\n      setCountery(data.sys.country);\r\n      setLat(data.coord.lat);\r\n      setLon(data.coord.lon);\r\n      setWind(data.wind.speed);\r\n      setHumidity(data.main.humidity);\r\n      const weatherIcon = data.weather[0].icon;\r\n      setIcon(weatherIconMap[weatherIcon] || <TiWeatherSunny />);\r\n      setcityNotFound(false);\r\n    }\r\n    catch(error) {\r\n      console.error(\"error\", error.message);\r\n      setErrors(\"An error occured while fetching data\", error.message);\r\n    }\r\n    finally {\r\n      setloading(false);\r\n    }\r\n  }\r\n  const handleCity = (e) => {\r\n    setText(e.target.value);\r\n  }\r\n  const handleKeyDown = (e) => {\r\n    if(e.key === 'Enter') {\r\n      search(); \r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    search();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"inputcontainer\">\r\n        <input type=\"text\" \r\n        className=\"cityInput\" \r\n        placeholder=\"Search City\" \r\n        value={text} \r\n        onChange={handleCity}\r\n        onKeyDown={handleKeyDown}\r\n        />\r\n          <div className=\"searchIcon\" onClick={() => search()}>\r\n            <AiOutlineSearch />\r\n          </div>\r\n      </div>\r\n      {loading  && <div className='loading'>Loading ...</div>}\r\n      {errors && <div className='error'>{errors}</div>}\r\n      {cityNotFound && <div className='notfound'>City Not Found</div>}\r\n      {!loading && !cityNotFound && <WeatherReport \r\n      icon={icon}\r\n      temp={temp}\r\n      city={city}\r\n      countery={countery}\r\n      lat={lat}\r\n      lon={lon}\r\n      humidity={humidity}\r\n      wind={wind}\r\n      />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,YAAY,CAC7B,MAAO,WAAW,CAClB,OAASC,eAAe,KAAQ,gBAAgB,CAChD,OAASC,eAAe,KAAQ,gBAAgB,CAChD,OAASC,eAAe,KAAQ,gBAAgB,CAChD,OAASC,aAAa,KAAQ,gBAAgB,CAC9C,OAASC,cAAc,KAAQ,gBAAgB,CAC/C,OAASC,iBAAiB,KAAQ,gBAAgB,CAClD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,cAAc,KAAQ,gBAAgB,CAC/C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG5C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,GAAI,CAAAC,MAAM,CAAG,kCAAkC,CAC/C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,cAACI,IAAA,CAACV,eAAe,GAAE,CAAC,CAAC,CACrD,KAAM,CAACiB,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,SAAS,CAAC,CAC3C,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,GAAG,CAAEC,MAAM,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CACjC,KAAM,CAACmB,GAAG,CAAEC,MAAM,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CACjC,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACuB,IAAI,CAAEC,OAAO,CAAC,CAAGxB,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACyB,IAAI,CAAEC,OAAO,CAAC,CAAG1B,QAAQ,CAAC,SAAS,CAAC,CAC3C,KAAM,CAAC2B,YAAY,CAAEC,eAAe,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC6B,OAAO,CAAEC,UAAU,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC+B,MAAM,CAAEC,SAAS,CAAC,CAAGhC,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAAiC,cAAc,CAAG,CACrB,KAAK,CAACpC,cAAc,CACpB,KAAK,CAACA,cAAc,CACpB,KAAK,CAACH,eAAe,CACrB,KAAK,CAACA,eAAe,CACrB,KAAK,CAACC,eAAe,CACrB,KAAK,CAACA,eAAe,CACrB,KAAK,CAACM,cAAc,CACpB,KAAK,CAACA,cAAc,CACpB,KAAK,CAACA,cAAc,CACpB,KAAK,CAACA,cAAc,CACpB,KAAK,CAACH,iBAAiB,CACvB,KAAK,CAACA,iBAAiB,CACvB,KAAK,CAACA,iBAAiB,CACvB,KAAK,CAACA,iBAAiB,CACvB,KAAK,CAACF,aAAa,CACnB,KAAK,CAACA,aAAa,CACnB,KAAK,CAACA,aAAa,CACnB,KAAK,CAACA,aACR,CAAC,CACD,KAAM,CAAAsC,MAAM,CAAG,KAAAA,CAAA,GAAW,CACxBJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CAAAK,GAAG,sDAAAC,MAAA,CAAwDX,IAAI,YAAAW,MAAA,CAAU5B,MAAM,mBACtF,CACG,GAAG,CACD,GAAI,CAAA6B,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACH,GAAG,CAAC,CAC/B,GAAI,CAAAI,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAChC,GAAID,IAAI,CAACE,GAAG,GAAK,KAAK,CAAC,CACpBb,eAAe,CAAC,IAAI,CAAC,CACrBE,UAAU,CAAC,KAAK,CAAC,CAChB,OACJ,CACAlB,OAAO,CAAC8B,IAAI,CAACC,KAAK,CAACJ,IAAI,CAACK,IAAI,CAACjC,IAAI,CAAC,CAAC,CACnCG,OAAO,CAACyB,IAAI,CAACM,IAAI,CAAC,CAClB7B,WAAW,CAACuB,IAAI,CAACO,GAAG,CAACC,OAAO,CAAC,CAC7B7B,MAAM,CAACqB,IAAI,CAACS,KAAK,CAAC/B,GAAG,CAAC,CACtBG,MAAM,CAACmB,IAAI,CAACS,KAAK,CAAC7B,GAAG,CAAC,CACtBK,OAAO,CAACe,IAAI,CAAChB,IAAI,CAAC0B,KAAK,CAAC,CACxB3B,WAAW,CAACiB,IAAI,CAACK,IAAI,CAACvB,QAAQ,CAAC,CAC/B,KAAM,CAAA6B,WAAW,CAAGX,IAAI,CAACY,OAAO,CAAC,CAAC,CAAC,CAAC1C,IAAI,CACxCC,OAAO,CAACuB,cAAc,CAACiB,WAAW,CAAC,eAAI9C,IAAA,CAACP,cAAc,GAAE,CAAC,CAAC,CAC1D+B,eAAe,CAAC,KAAK,CAAC,CACxB,CACA,MAAMwB,KAAK,CAAE,CACXC,OAAO,CAACD,KAAK,CAAC,OAAO,CAAEA,KAAK,CAACE,OAAO,CAAC,CACrCtB,SAAS,CAAC,sCAAsC,CAAEoB,KAAK,CAACE,OAAO,CAAC,CAClE,CAAC,OACO,CACNxB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACD,KAAM,CAAAyB,UAAU,CAAIC,CAAC,EAAK,CACxB9B,OAAO,CAAC8B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACzB,CAAC,CACD,KAAM,CAAAC,aAAa,CAAIH,CAAC,EAAK,CAC3B,GAAGA,CAAC,CAACI,GAAG,GAAK,OAAO,CAAE,CACpB1B,MAAM,CAAC,CAAC,CACV,CACF,CAAC,CAEDnC,SAAS,CAAC,IAAM,CACdmC,MAAM,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE5B,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAKuD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1D,IAAA,UAAO2D,IAAI,CAAC,MAAM,CAClBF,SAAS,CAAC,WAAW,CACrBG,WAAW,CAAC,aAAa,CACzBN,KAAK,CAAEjC,IAAK,CACZwC,QAAQ,CAAEV,UAAW,CACrBW,SAAS,CAAEP,aAAc,CACxB,CAAC,cACAvD,IAAA,QAAKyD,SAAS,CAAC,YAAY,CAACM,OAAO,CAAEA,CAAA,GAAMjC,MAAM,CAAC,CAAE,CAAA4B,QAAA,cAClD1D,IAAA,CAACX,eAAe,GAAE,CAAC,CAChB,CAAC,EACL,CAAC,CACLoC,OAAO,eAAKzB,IAAA,QAAKyD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,aAAW,CAAK,CAAC,CACtD/B,MAAM,eAAI3B,IAAA,QAAKyD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE/B,MAAM,CAAM,CAAC,CAC/CJ,YAAY,eAAIvB,IAAA,QAAKyD,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,gBAAc,CAAK,CAAC,CAC9D,CAACjC,OAAO,EAAI,CAACF,YAAY,eAAIvB,IAAA,CAACF,aAAa,EAC5CO,IAAI,CAAEA,IAAK,CACXE,IAAI,CAAEA,IAAK,CACXE,IAAI,CAAEA,IAAK,CACXE,QAAQ,CAAEA,QAAS,CACnBE,GAAG,CAAEA,GAAI,CACTE,GAAG,CAAEA,GAAI,CACTE,QAAQ,CAAEA,QAAS,CACnBE,IAAI,CAAEA,IAAK,CACV,CAAC,EACC,CAAC,CAEV,CAEA,cAAe,CAAAhB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}